<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hongwang 304 CR price trend</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts/dist/echarts.min.js"></script>
    <style>
        #priceChart {
            width: 95%; 
            max-width: 1200px;
            height: 600px;
            margin: 20px auto;
            border: 1px solid #eee;
            padding: 10px;
        }
        body { margin: 0; padding: 20px; font-family: Arial, sans-serif; }
    </style>
</head>
<body>
    <div id="priceChart"></div>

    <script>
        const chartDom = document.getElementById('priceChart');
        const myChart = echarts.init(chartDom);

        // 保持原日期数据不变
        const dateData = [
            '25.2.5', '25.2.6', '25.2.7', '25.2.8', '25.2.10','25.2.11','25.2.12','25.2.13','25.2.14','25.2.17','25.2.18','25.2.19','25.2.20','25.2.21','25.2.24','25.2.25','25.2.26','25.2.27','25.2.28',
            '25.3.3', '25.3.4', '25.3.5', '25.3.6', '25.3.7','25.3.10','25.3.11','25.3.12','25.3.13','25.3.14','25.3.17','25.3.18','25.3.19','25.3.20','25.3.21','25.3.24','25.3.25','25.3.26','25.3.27','25.3.28','25.3.31',
            '25.4.1','25.4.2','25.4.3','25.4.7','25.4.8','25.4.9','25.4.10','25.4.11','25.4.14','25.4.15','25.4.16','25.4.17','25.4.18','25.4.21','25.4.22','25.4.23','25.4.24','25.4.25','25.4.27','25.4.28','25.4.29','25.4.30',
            '25.5.6','25.5.7','25.5.8','25.5.9','25.5.12','25.5.13','25.5.14','25.5.15','25.5.16','25.5.19','25.5.20','25.5.21','25.5.22','25.5.23','25.5.26','25.5.27','25.5.28','25.5.29','25.5.30',
            '25.6.3','25.6.4','25.6.5','25.6.6','25.6.9','25.6.10','25.6.11','25.6.12','25.6.13','25.6.16','25.6.17','25.6.18','25.6.19','25.6.20','25.6.23','25.6.24','25.6.25','25.6.26','25.6.27','25.6.30',
            '25.7.1','25.7.2','25.7.3','25.7.4','25.7.7','25.7.8','25.7.9','25.7.10','25.7.11','25.7.14','25.7.15','25.7.16','25.7.17','25.7.18','25.7.21','25.7.22','25.7.23','25.7.24','25.7.25','25.7.28','25.7.29','25.7.30','25.7.31',
            '25.8.1','25.8.4','25.8.5','25.8.6','25.8.7','25.8.8','25.8.11','25.8.12','25.8.13','25.8.14','25.8.15','25.8.18','25.8.19','25.8.20','25.8.21','25.8.22','25.8.25','25.8.26','25.8.27','25.8.28','25.8.29',
            '25.9.1','25.9.2','25.9.3','25.9.4','25.9.5','25.9.8','25.9.9','25.9.10','25.9.11','25.9.12','25.9.15','25.9.16','25.9.17','25.9.18','25.9.19','25.9.22','25.9.23','25.9.24','25.9.25','25.9.26','25.9.28','25.9.29','25.9.30',
            '25.10.9','25.10.10','25.10.11','25.10.13','25.10.14','25.10.15','25.10.16','25.10.17','25.10.20','25.10.21','25.10.22','25.10.23','25.10.24','25.10.27','25.10.28','25.10.29','25.10.30','25.10.31',
            '25.11.3','25.11.4','25.11.5','25.11.6','25.11.7','25.11.10','25.11.11','25.11.12','25.11.13','25.11.14','25.11.17','25.11.18','25.11.19','25.11.20','25.11.21','25.11.24','25.11.25','25.11.26','25.11.27','25.11.28',
            '25.12.1','25.12.2','25.12.3','25.12.4','25.12.5','25.12.8','25.12.9','25.12.10','25.12.11','25.12.12','25.12.15','25.12.16','25.12.17','25.12.18','25.12.19','25.12.22','25.12.23','25.12.24','25.12.25','25.12.26','25.12.29','25.12.30','25.12.31',
            '26.1.4','26.1.5','26.1.6','26.1.7','26.1.8','26.1.9','26.1.12','26.1.13','26.1.14','26.1.15','26.1.16','26.1.19','26.1.20','26.1.21','26.1.22','26.1.23','26.1.26','26.1.27','26.1.28','26.1.29','26.1.30',
            '26.2.2'
        ];
        
        // 替换为你提供的新价格数据
        const priceData = [
            13100,13100,13100,13100,13100,13100,13050,13050,13050,13000,13000,13000,13050,13150,13100,13050,13050,13100,13150,
            13200,13200,13200,13300,13350,13400,13450,13600,13600,13600,13700,13600,13600,13550,13550,13500,13600,13550,13600,13650,13700,13700,
            13700,13700,13450,13400,13350,13250,13200,13250,13250,13200,13200,13150,13150,13150,13100,13100,13050,13050,13050,13050,13050,13050,
            13050,13050,13050,13150,13200,13300,13300,13200,13200,13150,13150,13150,13150,13150,13150,13100,13100,13100,13100,13100,13050,
            13000,13000,12700,12800,12800,12750,12750,12700,12700,12700,12700,12650,12600,12650,12700,12700,12650,12650,12700,12700,12750,
            12700,12700,12700,12750,12750,12800,12750,12750,12750,12800,12900,12950,12900,12900,12900,12900,12900,12950,12900,12900,13000,
            13000,13000,13050,13150,13200,13250,13250,13200,13100,13150,13100,13050,13050,13000,13100,13100,13100,13100,13100,13150,13200,
            13150,13150,13100,13150,13150,13150,13150,13150,13250,13200,13150,13100,13100,13100,13100,13100,13200,13150,13100,13050,13050,
            13150,13100,13050,13000,12950,12900,13000,13000,12950,13000,13000,13000,13050,13000,12950,12950,12950,12900,12800,12800,12800,
            12800,12800,12800,12750,12700,12750,12700,12700,12700,12700,12650,12700,12700,12700,12700,12700,12700,12700,12700,12700,12700,
            12700,12800,12800,12800,12800,12800,12800,12700,12700,12750,12900,12900,12950,13050,13000,13050,13050,13150,13150,13150,13200,
            13300,13950,13800,13800,13900,13900,13900,14400,14350,14300,14300,14500,14600,14600,14500,14500,14500,14500,14400,14100,14100
        ];

        // 计算新数据的最高/最低价（用于标注）
        const maxPrice = Math.max(...priceData);
        const maxIndex = priceData.indexOf(maxPrice);
        const minPrice = Math.min(...priceData);
        const minIndex = priceData.indexOf(minPrice);

        const option = {
            title: {
                text: 'Hongwang 304 CR price trend (2025.02 - 2026.02)',
                subtext: 'Data updated: 2026.02.03',
                left: 'center',
                textStyle: { fontSize: 16, fontWeight: 'bold' },
                subtextStyle: { fontSize: 12, color: '#666' }
            },
            tooltip: {
                trigger: 'axis',
                formatter: function(params) {
                    const rawDate = params[0].name;
                    const [year, month, day] = rawDate.split('.');
                    const fullDate = `20${year}.${month.padStart(2, '0')}.${day.padStart(2, '0')}`;
                    const price = params[0].value;
                    return `${fullDate}<br/>${price.toLocaleString()} CNY/TON`;
                },
                backgroundColor: 'rgba(0,0,0,0.8)',
                textStyle: { color: '#fff' },
                borderRadius: 4,
                padding: 8
            },
            xAxis: {
                type: 'category',
                data: dateData,
                name: 'DATE',
                nameTextStyle: { color: '#ff0000', fontWeight: 'bold', fontSize: 14 },
                nameLocation: 'end',
                nameGap: 10,
                axisLabel: {
                    rotate: 0,
                    fontSize: 12,
                    interval: function(index) {
                        const total = dateData.length;
                        const step = Math.ceil(total / 8);
                        return index % step === 0;
                    },
                    margin: 8,
                    align: 'center'
                },
                axisTick: {
                    alignWithLabel: true,
                    interval: function(index) {
                        const total = dateData.length;
                        const step = Math.ceil(total / 8);
                        return index % step === 0;
                    }
                },
                splitLine: { show: false }
            },
            yAxis: {
                type: 'value',
                // 适配新数据的价格区间（最低12600，最高14600）
                min: 12500,
                max: 15000,
                name: 'CNY/TON',
                nameTextStyle: { color: '#ff0000', fontWeight: 'bold', fontSize: 14 },
                nameLocation: 'end',
                nameGap: 20,
                nameRotate: 0,
                axisLabel: {
                    fontSize: 12,
                    formatter: '{value}'
                },
                splitLine: { lineStyle: { color: '#eee' } }
            },
            series: [
                {
                    name: 'Price',
                    type: 'line',
                    data: priceData,
                    lineStyle: { color: '#ff0000', width: 2 },
                    symbol: 'none',
                    smooth: true,
                    markPoint: {
                        data: [
                            { name: 'Highest Price', value: `${maxPrice}`, xAxis: maxIndex, yAxis: maxPrice + 100 },
                            { name: 'Lowest Price', value: `${minPrice}`, xAxis: minIndex, yAxis: minPrice - 100 }
                        ],
                        label: { fontSize: 10 },
                        itemStyle: { color: '#ff0000' }
                    },
                    areaStyle: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                            { offset: 0, color: 'rgba(255,0,0,0.3)' },
                            { offset: 1, color: 'rgba(255,0,0,0.05)' }
                        ])
                    }
                }
            ],
            grid: {
                left: '6%',
                right: '8%',
                bottom: '12%',
                top: '15%',
                containLabel: true
            },
            toolbox: {
                show: true,
                feature: {
                    dataZoom: { yAxisIndex: 'none' },
                    saveAsImage: { name: 'Hongwang_304CR_Price_Trend' },
                    restore: true
                },
                right: '5%',
                top: '5%'
            },
            dataZoom: [
                { type: 'inside', xAxisIndex: 0 },
                { type: 'slider', xAxisIndex: 0, bottom: '5%' }
            ]
        };

        myChart.setOption(option);
        window.addEventListener('resize', () => myChart.resize());
    </script>
</body>
</html>